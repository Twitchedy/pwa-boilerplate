{"version":3,"sources":["webpack:///webpack/bootstrap edba40d0cd1431defe75","webpack:///./resources/assets/js/serviceworker.js"],"names":["CACHE_VERSION","BASE_CACHE_FILES","OFFLINE_CACHE_FILES","NOT_FOUND_CACHE_FILES","OFFLINE_PAGE","NOT_FOUND_PAGE","CACHE_VERSIONS","assets","content","offline","notFound","MAX_TTL","html","json","js","css","CACHE_BLACKLIST","SUPPORTED_METHODS","isBlacklisted","url","length","filter","rule","getFileExtension","extension","split","reverse","endsWith","getTTL","installServiceWorker","Promise","all","caches","open","then","cache","addAll","self","skipWaiting","cleanupLegacyCache","currentCaches","Object","keys","map","key","resolve","reject","legacyKeys","indexOf","legacy","legacyKey","delete","catch","err","precacheUrl","match","response","fetch","put","clone","addEventListener","event","waitUntil","clients","claim","respondWith","request","headers","entries","date","pair","Date","age","parseInt","getTime","ttl","updatedResponse","status","method","offlineCache","error","console","data","action","log"],"mappings":"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","file":"/serviceworker.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 52);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap edba40d0cd1431defe75","/* eslint-disable */\n/**\n * https://github.com/wildhaber/offline-first-sw\n */\n\nconst CACHE_VERSION = 1;\n\nconst BASE_CACHE_FILES = [\n    '/',\n    '/js/app.js',\n    '/css/app.css',\n    '/api/v1/hello',\n    '/favicon.ico',\n    '/img/pwa-icon.png',\n    '/manifest.json',\n    '/serviceworker.js',\n    '/world'\n];\n\nconst OFFLINE_CACHE_FILES = [\n    '/',\n    '/js/app.js',\n    '/css/app.css',\n    '/api/v1/hello',\n    '/favicon.ico',\n    '/img/pwa-icon.png',\n    '/manifest.json',\n    '/serviceworker.js',\n    '/world'\n];\n\nconst NOT_FOUND_CACHE_FILES = [\n\n];\n\nconst OFFLINE_PAGE = '/offline/index.html';\nconst NOT_FOUND_PAGE = '/404.html';\n\nconst CACHE_VERSIONS = {\n    assets: 'assets-v' + CACHE_VERSION,\n    content: 'content-v' + CACHE_VERSION,\n    offline: 'offline-v' + CACHE_VERSION,\n    notFound: '404-v' + CACHE_VERSION,\n};\n\n// Define MAX_TTL's in SECONDS for specific file extensions\nconst MAX_TTL = {\n    '/': 3600,\n    html: 3600,\n    json: 86400,\n    js: 86400,\n    css: 86400,\n};\n\nconst CACHE_BLACKLIST = [\n    //(str) => {\n    //    return !str.startsWith('http://localhost') && !str.startsWith('https://gohugohq.com');\n    //},\n];\n\nconst SUPPORTED_METHODS = [\n    'GET',\n];\n\n/**\n * isBlackListed\n * @param {string} url\n * @returns {boolean}\n */\nfunction isBlacklisted(url) {\n    return (CACHE_BLACKLIST.length > 0) ? !CACHE_BLACKLIST.filter((rule) => {\n        if(typeof rule === 'function') {\n            return !rule(url);\n        } else {\n            return false;\n        }\n    }).length : false\n}\n\n/**\n * getFileExtension\n * @param {string} url\n * @returns {string}\n */\nfunction getFileExtension(url) {\n    let extension = url.split('.').reverse()[0].split('?')[0];\n    return (extension.endsWith('/')) ? '/' : extension;\n}\n\n/**\n * getTTL\n * @param {string} url\n */\nfunction getTTL(url) {\n    if (typeof url === 'string') {\n        let extension = getFileExtension(url);\n        if (typeof MAX_TTL[extension] === 'number') {\n            return MAX_TTL[extension];\n        } else {\n            return null;\n        }\n    } else {\n        return null;\n    }\n}\n\n/**\n * installServiceWorker\n * @returns {Promise}\n */\nfunction installServiceWorker() {\n    return Promise.all(\n        [\n            caches.open(CACHE_VERSIONS.assets)\n                .then(\n                    (cache) => {\n                        return cache.addAll(BASE_CACHE_FILES);\n                    }\n                ),\n            caches.open(CACHE_VERSIONS.offline)\n                .then(\n                    (cache) => {\n                        return cache.addAll(OFFLINE_CACHE_FILES);\n                    }\n                ),\n            caches.open(CACHE_VERSIONS.notFound)\n                .then(\n                    (cache) => {\n                        return cache.addAll(NOT_FOUND_CACHE_FILES);\n                    }\n                )\n        ]\n    )\n        .then(() => {\n            return self.skipWaiting();\n        });\n}\n\n/**\n * cleanupLegacyCache\n * @returns {Promise}\n */\nfunction cleanupLegacyCache() {\n\n    let currentCaches = Object.keys(CACHE_VERSIONS)\n        .map(\n            (key) => {\n                return CACHE_VERSIONS[key];\n            }\n        );\n\n    return new Promise(\n        (resolve, reject) => {\n\n            caches.keys()\n                .then(\n                    (keys) => {\n                        return legacyKeys = keys.filter(\n                            (key) => {\n                                return !~currentCaches.indexOf(key);\n                            }\n                        );\n                    }\n                )\n                .then(\n                    (legacy) => {\n                        if (legacy.length) {\n                            Promise.all(\n                                legacy.map(\n                                    (legacyKey) => {\n                                        return caches.delete(legacyKey)\n                                    }\n                                )\n                            )\n                                .then(\n                                    () => {\n                                        resolve()\n                                    }\n                                )\n                                .catch(\n                                    (err) => {\n                                        reject(err);\n                                    }\n                                );\n                        } else {\n                            resolve();\n                        }\n                    }\n                )\n                .catch(\n                    () => {\n                        reject();\n                    }\n                );\n\n        }\n    );\n}\n\nfunction precacheUrl(url) {\n    if(!isBlacklisted(url)) {\n        caches.open(CACHE_VERSIONS.content)\n            .then((cache) => {\n                cache.match(url)\n                    .then((response) => {\n                        if(!response) {\n                            return fetch(url)\n                        } else {\n                            // already in cache, nothing to do.\n                            return null\n                        }\n                    })\n                    .then((response) => {\n                        if(response) {\n                            return cache.put(url, response.clone());\n                        } else {\n                            return null;\n                        }\n                    });\n            })\n    }\n}\n\n\n\nself.addEventListener(\n    'install', event => {\n        event.waitUntil(\n            Promise.all([\n                installServiceWorker(),\n                self.skipWaiting(),\n            ])\n        );\n    }\n);\n\n// The activate handler takes care of cleaning up old caches.\nself.addEventListener(\n    'activate', event => {\n        event.waitUntil(\n            Promise.all(\n                [\n                    cleanupLegacyCache(),\n                    self.clients.claim(),\n                    self.skipWaiting(),\n                ]\n            )\n                .catch(\n                    (err) => {\n                        event.skipWaiting();\n                    }\n                )\n        );\n    }\n);\n\nself.addEventListener(\n    'fetch', event => {\n\n        event.respondWith(\n            caches.open(CACHE_VERSIONS.content)\n                .then(\n                    (cache) => {\n\n                        return cache.match(event.request)\n                            .then(\n                                (response) => {\n\n                                    if (response) {\n\n                                        let headers = response.headers.entries();\n                                        let date = null;\n\n                                        for (let pair of headers) {\n                                            if (pair[0] === 'date') {\n                                                date = new Date(pair[1]);\n                                            }\n                                        }\n\n                                        if (date) {\n                                            let age = parseInt((new Date().getTime() - date.getTime()) / 1000);\n                                            let ttl = getTTL(event.request.url);\n\n                                            if (ttl && age > ttl) {\n\n                                                return new Promise(\n                                                    (resolve) => {\n\n                                                        return fetch(event.request.clone())\n                                                            .then(\n                                                                (updatedResponse) => {\n                                                                    if (updatedResponse) {\n                                                                        cache.put(event.request, updatedResponse.clone());\n                                                                        resolve(updatedResponse);\n                                                                    } else {\n                                                                        resolve(response)\n                                                                    }\n                                                                }\n                                                            )\n                                                            .catch(\n                                                                () => {\n                                                                    resolve(response);\n                                                                }\n                                                            );\n\n                                                    }\n                                                )\n                                                    .catch(\n                                                        (err) => {\n                                                            return response;\n                                                        }\n                                                    );\n                                            } else {\n                                                return response;\n                                            }\n\n                                        } else {\n                                            return response;\n                                        }\n\n                                    } else {\n                                        return null;\n                                    }\n                                }\n                            )\n                            .then(\n                                (response) => {\n                                    if (response) {\n                                        return response;\n                                    } else {\n                                        return fetch(event.request.clone())\n                                            .then(\n                                                (response) => {\n\n                                                    if(response.status < 400) {\n                                                        if (~SUPPORTED_METHODS.indexOf(event.request.method) && !isBlacklisted(event.request.url)) {\n                                                            cache.put(event.request, response.clone());\n                                                        }\n                                                        return response;\n                                                    } else {\n                                                        return caches.open(CACHE_VERSIONS.notFound).then((cache) => {\n                                                            return cache.match(NOT_FOUND_PAGE);\n                                                        })\n                                                    }\n                                                }\n                                            )\n                                            .then((response) => {\n                                                if(response) {\n                                                    return response;\n                                                }\n                                            })\n                                            .catch(\n                                                () => {\n\n                                                    return caches.open(CACHE_VERSIONS.offline)\n                                                        .then(\n                                                            (offlineCache) => {\n                                                                return offlineCache.match(OFFLINE_PAGE)\n                                                            }\n                                                        )\n\n                                                }\n                                            );\n                                    }\n                                }\n                            )\n                            .catch(\n                                (error) => {\n                                    console.error('  Error in fetch handler:', error);\n                                    throw error;\n                                }\n                            );\n                    }\n                )\n        );\n\n    }\n);\n\n\nself.addEventListener('message', (event) => {\n\n    if(\n        typeof event.data === 'object' &&\n        typeof event.data.action === 'string'\n    ) {\n        switch(event.data.action) {\n            case 'cache' :\n                precacheUrl(event.data.url);\n                break;\n            default :\n                console.log('Unknown action: ' + event.data.action);\n                break;\n        }\n    }\n\n});\n\n\n\n// WEBPACK FOOTER //\n// ./resources/assets/js/serviceworker.js"],"sourceRoot":""}